---
layout: post
title: 404页面
tags: 网站组成
categories: Web
---

## 404 页面简介
**4xx 代表客户错误.**
**5xx 代表服务器端错误.**
**404 服务端上未找到文件(客户端的原因)**

## 404 出现原因

一个网站下面有很多子站点.这些站点都是有固定路径的.
如果你在浏览器上私自改了这个路径.那么服务端如果没有这个文件.就会返回404 页面.

客户端浏览网页时候:
服务器无法正常提供信息./服务器无反应.... 且不知道原因 所返回的页面.








## 404 页面作用:

### 1. 避免出现死链
网站设置404页面后，如果网站出现死链接，搜索引擎蜘蛛爬行这类网址得到“404”状态回应时，即知道该URL已经失效，便不再索引该网页，并向数据中心反馈将该URL表示的网页从索引数据库中删除。避免因为死链接影响网站收录。
### 2.提升用户体验
404页面通常为用户访问了网站上不存在或已删除的页面，服务器返回404错误页面，告诉浏览者其所请求的页面不存在或链接错误，同时引导用户使用网站其他页面而不是关闭窗口离开，消除用户的挫败感。
### 3.避免信任度下降
搜索引擎通过HTTP状态码来识别网页的状态。当搜索引擎获得了一个错误链接时，网站应该返回404状态码，告诉搜索引擎放弃对该链接的索引。而如果返回200或302状态码，搜索引擎就会为该链接建立索引，这导致大量不同的链接指向了相同的网页内容。结果是，搜索引擎对该网站的信任度大幅降低。很多网站存在这个问题：404页面返回的是200或302状态码而不是404状态码。
### 4.避免被惩罚
有些网站由于应用了一些错误的服务器配置，导致返回的是200状态码或是302状态码，虽然这些状态码对访问网站的用户没有影响，但是却会误导搜索引擎，使搜索引擎认为该页面是有效页面，从而抓取下来。如果404页面过多，就造成了大量的重复页面，很有可能被搜索引擎认为是作弊而遭到惩罚




## 为什么要 404 页面

原因类型
HTTP 404 错误意味着链接指向的网页不存在，即原始网页的URL失效，这种情况经常会发生，很难避免，比如说：网页URL生成规则改变、网页文件更名或移动位置、导入链接拼写错误等，导致原来的URL地址无法访问；当Web 服务器接到类似请求时，会返回一个404 状态码，告诉浏览器要请求的资源并不存在。

404错误页面
导致这个错误的原因一般来说，有三种：
1、无法在所请求的端口上访问Web站点。
2、Web服务扩展锁定策略阻止本请求。
3、MIME映射策略阻止本请求。






## Jekyll 404页面设置

[官网介绍][1]

### 1. 根目录创建404文件
jekyll 根目录创建 404.html / 404.md 文件


### 2. 自动跳转 404 页面

为了让 404 页面能自动跳转，迄今为止所找到的最简单的方法是通过 HTML meta 标签，
`meta http-equiv="refresh" content="5;url=/"`
这个 加到 默认的 header里 的话.
只要是网站加载时间超过5秒就 转到 404 页面去了.

所以要设置 if ... 


• 5 代表着在自动跳转前所等待的秒数。 设置为 0 表示不做任何等待并立即跳转。

url=/ 设置了跳转的 URL， 可以被设置成任何链接，如 url=http://yizeng.me




1.  使用 Liquid’s if-else 语句来确保自动跳转只发生于 404.html。

	{% raw %}
	<!DOCTYPE html>
	<head>
	<!-- some other meta -->
	{% if page.url == "/404.html" %}
	<meta http-equiv="refresh" content="5; url=/">
	{% endif %}
	<!-- some other stuff like link or script -->
	</head>
	<body>
	<!-- the body for default.html -->
	</body>
	{% endraw %}

然后上传上去  等几分钟就可以测试了...



### 3. jekyll 404功能开启

上传好之后想要实现404的效果需要开启404设置，
一般主流的虚拟主机控制面板都有404开启的功能，然后点击开启设置就可以，如果是独立服务器像Linux的直接在apache配置文件里找到注释掉的代码将404开启即可。





















[1]:	https://help.github.com/articles/creating-a-custom-404-page-for-your-github-pages-site/